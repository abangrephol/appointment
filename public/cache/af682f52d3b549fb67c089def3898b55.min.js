angular.module('appSys.services',['ui.router']).config(['$stateProvider','$urlRouterProvider',function($stateProvider,$urlRouterProvider){$stateProvider.state('service',{url:'/',templateUrl:'index.html',resolve:{services:['services',function(services){return services.all();}]},controller:['$scope','$state','services','utils',function($scope,$state,services,utils){$scope.services=services;$state.transitionTo('service.list');}]}).state('service.list',{url:'list',views:{"list":{templateUrl:'services.list.html',controller:['$scope','$state','services','utils',function($scope,$state,services,utils){$scope.services=services;}]}}}).state('service.detail',{url:'service/{id:[0-9]}',views:{"list":{templateUrl:'services.detail.html',controller:['$scope','$stateParams','utils',function($scope,$stateParams,utils){$scope.service=utils.findById($scope.services,$stateParams.id);}]}}})}]);angular.module('appSys.services.service',[]).factory('services',['$http','utils',function($http,utils){var path='/api/services';var contacts=$http.get(path).then(function(resp){return resp.data;});var factory={};factory.all=function(){return contacts;};factory.get=function(id){return contacts.then(function(){return utils.findById(contacts,id);})};return factory;}]);angular.module('appSys.utils.service',[]).factory('utils',function(){return{findById:function findById(a,id){for(var i=0;i<a.length;i++){if(a[i].id==id)return a[i];}
return null;}};});var app=angular.module('appSys',['ui.router','ngAnimate','appSys.services','appSys.services.service','appSys.utils.service']);app.run(['$rootScope','$state','$stateParams',function($rootScope,$state,$stateParams){$rootScope.$state=$state;$rootScope.$stateParams=$stateParams;}])
app.config(['$stateProvider','$urlRouterProvider','$locationProvider',function($stateProvider,$urlRouterProvider,$locationProvider){$locationProvider.hashPrefix('!');$urlRouterProvider.otherwise('/');}]);